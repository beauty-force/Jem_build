import{H as w,G as k,r as p,o as l,c as i,b,w as U,F as x,d as e,I as L,J as _,K as h,t as f,i as n,M as V,f as C,e as u,n as O}from"./app.2dd2d94b.js";import{U as j}from"./UserLayout.590e8dfe.js";import{_ as I}from"./_plugin-vue_export-helper.cdc0426e.js";import"./Category.1eb58d2b.js";const R={components:{Head:w,UserLayout:j},props:{errors:Object,auth:Object,category_share:Object,titles:Object},data(){return{url:null,url1:null,urls:["","","","","","","","","","","","","","","",""]}},methods:{submit(){this.$refs.photo&&(this.form.image=this.$refs.photo.files[0]),this.$refs.photo1&&(this.form.thumbnail=this.$refs.photo1.files[0]),this.form.lost_product_type=="1"&&(this.form.count_card=0),this.form.post(route("admin.gacha.store"))},previewImage(a){const t=a.target.files[0];this.url=URL.createObjectURL(t)},previewImage1(a){const t=a.target.files[0];this.url1=URL.createObjectURL(t)},previewVideo(a,t){const s=a.target.files[0];this.urls[t]=URL.createObjectURL(s);var r=this.form.ids.indexOf(t);r==-1?(this.form.ids.push(t),this.form.videos.push(s)):this.form.videos[r]=s}},setup(a){return{form:k({point:"",count_card:"",lost_product_type:"0",thumbnail:"",image:"",category_id:a.category_share.cat_id,spin_limit:"3",ids:[],videos:[]})}}},H={class:"pt-6 md:px-2 px-4"},M=e("h1",{class:"mb-2 text-lg font-bold"},"\u30AC\u30C1\u30E3 \u8FFD\u52A0",-1),N=e("hr",{class:"mb-8"},null,-1),B={class:"mb-4"},F=e("label",{for:"text1",class:"block font-medium text-sm text-neutral-700 mb-1"},[u("\u6D88\u8CBB\u30DD\u30A4\u30F3\u30C8\uFF08\u30C6\u30AD\u30B9\u30C8\uFF09"),e("span",{class:"text-red-500"},"*")],-1),S={key:0,class:"text-red-500 text-sm mt-1"},D={class:"mb-4"},T=e("label",{for:"type",class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},[u("\u7A2E\u985E "),e("span",{class:"text-red-500"},"*")],-1),z=e("option",{value:0},"\u9650\u5B9A\u30AB\u30FC\u30C9",-1),E=e("option",{value:1},"\u7121\u9650\u30AC\u30C1\u30E3",-1),G=[z,E],J={key:0,class:"mb-4"},K=e("label",{for:"text2",class:"block font-medium text-sm text-neutral-700 mb-1"},[u("\u7DCF\u30AB\u30FC\u30C9\u6570\uFF08\u534A\u89D2\u6570\u5B57\uFF09"),e("span",{class:"text-red-500"},"*")],-1),q={key:0,class:"text-red-500 text-sm mt-1"},A={class:"mb-4"},P=e("label",{for:"text1",class:"block font-medium text-sm text-neutral-700 mb-1"},[u("\u30AC\u30C1\u30E3\u5236\u9650\u56DE\u6570 "),e("span",{class:"text-red-500"},"*")],-1),Q={key:0,class:"text-red-500 text-sm mt-1"},W={class:"mb-4"},X=e("label",{for:"file1",class:"block font-medium text-sm text-neutral-700 mb-1"},[u("\u30B5\u30E0\u30CD\u30A4\u30EB "),e("span",{class:"text-red-500"},"*")],-1),Y={class:"text-center w-full"},Z=["src"],$={key:0,class:"text-red-500 text-sm mt-1"},ee={class:"mb-8"},te=e("label",{for:"file1",class:"block font-medium text-sm text-neutral-700 mb-1"},[u("\u8A73\u7D30\u30DA\u30FC\u30B8\u753B\u50CF "),e("span",{class:"text-red-500"},"*")],-1),se={class:"text-center w-full"},oe=["src"],re={key:0,class:"text-red-500 text-sm mt-1"},le=e("label",{class:"block font-medium text-md text-neutral-700 mb-2"},[u("\u30AC\u30C1\u30E3\u6F14\u51FA\u52D5\u753B\u8A2D\u5B9A "),e("span",{class:"text-red-500"},"*")],-1),ie={class:"flex flex-wrap mb-8"},ne=["src"],ae={class:"w-fit p-2 grid grid-cols-1"},ce={class:"mb-4 text-sm"},de=["for"],ue=["onChange","id"],me=e("div",{class:"mb-8 text-center"},[e("button",{type:"submit",class:"inline-block items-center px-14 py-2.5 bg-green-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150"}," \u4FDD\u5B58 ")],-1);function fe(a,t,s,r,c,m){const g=p("Head"),v=p("UserLayout");return l(),i(x,null,[b(g,{title:"\u30AC\u30C1\u30E3 \u8FFD\u52A0"}),b(v,null,{default:U(()=>[e("div",H,[M,N,e("form",{onSubmit:t[6]||(t[6]=L(o=>m.submit(),["prevent"]))},[e("div",B,[F,_(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>r.form.point=o),id:"text1",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"},null,512),[[h,r.form.point]]),s.errors.point?(l(),i("div",S,f(s.errors.point),1)):n("",!0)]),e("div",D,[T,_(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>r.form.lost_product_type=o),id:"type",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300"},G,512),[[V,r.form.lost_product_type]])]),r.form.lost_product_type=="0"?(l(),i("div",J,[K,_(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>r.form.count_card=o),id:"text2",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"},null,512),[[h,r.form.count_card]]),s.errors.count_card?(l(),i("div",q,f(s.errors.count_card),1)):n("",!0)])):n("",!0),e("div",A,[P,_(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>r.form.spin_limit=o),id:"text1",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"},null,512),[[h,r.form.spin_limit]]),s.errors.spin_limit?(l(),i("div",Q,f(s.errors.spin_limit),1)):n("",!0)]),e("div",W,[X,e("div",Y,[c.url1?(l(),i("img",{key:0,src:c.url1,class:"inline-block mt-4 h-52"},null,8,Z)):n("",!0)]),e("input",{onChange:t[4]||(t[4]=(...o)=>m.previewImage1&&m.previewImage1(...o)),ref:"photo1",id:"file1",type:"file",class:"w-full"},null,544),s.errors.thumbnail?(l(),i("div",$,f(s.errors.thumbnail),1)):n("",!0)]),e("div",ee,[te,e("div",se,[c.url?(l(),i("img",{key:0,src:c.url,class:"inline-block mt-4 h-52"},null,8,oe)):n("",!0)]),e("input",{onChange:t[5]||(t[5]=(...o)=>m.previewImage&&m.previewImage(...o)),ref:"photo",id:"file1",type:"file",class:"w-full"},null,544),s.errors.image?(l(),i("div",re,f(s.errors.image),1)):n("",!0)]),le,e("div",ie,[(l(!0),i(x,null,C(s.titles,(o,d)=>(l(),i("div",{class:"mb-4 flex items-center flex-wrap w-full md:w-1/2",key:d},[e("div",{class:O(["text-center md:w-3/5 md:px-0 px-2 w-full",{"border aspect-[16/9]":c.urls[d]==""}])},[c.urls[d]!=""?(l(),i("video",{key:0,class:"inline-block",src:c.urls[d],type:"video/mp4",controls:""},null,8,ne)):n("",!0)],2),e("div",ae,[e("span",ce,f(o),1),e("label",{for:"file["+d+"]",class:"cursor-pointer py-1 px-4 rounded-full bg-yellow-500 hover:bg-red-700 hover:text-white text-sm text-center w-fit"},"\u9078\u629E",8,de),e("input",{onChange:y=>m.previewVideo(y,d),id:"file["+d+"]",type:"file",class:"pt-4",accept:"video/mp4",hidden:""},null,40,ue)])]))),128))]),me],32)])]),_:1})],64)}const xe=I(R,[["render",fe]]);export{xe as default};
