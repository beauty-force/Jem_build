import{H as y,L as v,G as w,r as l,o as n,c as a,b as d,w as P,F as m,d as t,I as C,f as j,J as f,a2 as _,n as A,t as u,e as V,i as p}from"./app.7ba999e8.js";import{A as z}from"./Admin.bd1c676d.js";import{_ as D}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as I}from"./PlayIcon.32c0c4be.js";import"./Category.8cc950fc.js";const L={components:{Head:y,AdminLayout:z,Link:v,PlayIcon:I},props:{errors:Object,auth:Object,category_share:Object,products:Object,token:String},data(){return{isCheckAll:!1,showPtProducts:!1,showDeliveryProducts:!1}},computed:{totalConvertedPoints(){return this.pt_products.data.reduce((e,s)=>e+parseInt(s.point),0)}},setup(e){let s={},r;for(r=0;r<e.products.data.length;r++)s["id"+e.products.data[r].id]=!1;return{form:w({checks:s,token:e.token})}},methods:{format_number(e){return String(e).replace(/(.)(?=(\d{3})+$)/g,"$1,")},togglePtProducts(){this.showPtProducts=!this.showPtProducts},toggleDeliveryProducts(){this.showDeliveryProducts=!this.showDeliveryProducts},submit(){let e,s=0;var r=0;for(e=0;e<this.products.data.length;e++)this.form.checks["id"+this.products.data[e].id]&&(s++,r=r+parseInt(this.products.data[e].point));let i=!1;r>0?confirm("\u4EA4\u63DB\u3057\u307E\u3059\u304B\uFF1F \u9078\u629E\u3057\u305F"+s+"\u70B9\u306E\u5546\u54C1\u3092"+r+"pt\u3068\u4EA4\u63DB\u3057\u307E\u3059\u3002")&&(i=!0):confirm("\u5168\u3066\u306E\u5546\u54C1\u304C\u300C\u7372\u5F97\u6E08\u307F\u5546\u54C1\u4E00\u89A7\u300D\u306B\u79FB\u52D5\u3057\u307E\u3059\u3002")&&(i=!0),i&&this.form.post(route("user.gacha.result.exchange"),{onFinish:()=>{}})},checkall(){let e;for(e=0;e<this.products.data.length;e++)this.form.checks["id"+this.products.data[e].id]=this.isCheckAll}}},F={class:"md:w-[760px] m-auto items-center"},H=t("h1",{class:"mb-2 text-neutral-100 text-xl underline underline-offset-8 py-8 text-center font-bold"},"\xA0\xA0\xA0\u30AC\u30C1\u30E3 \u2013 \u7D50\u679C\xA0\xA0\xA0",-1),N={class:"p-4 grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5"},O={class:"relative"},S=["for"],B={class:"text-center p-0 relative mb-1"},U=["src"],M={class:"text-white truncate text-center text-base px-4",style:{"line-height":"1.3"}},T={class:"text-neutral-300 text-sm truncate mb-1 text-center px-4",style:{"line-height":"1.3"}},E={class:"flex justify-center items-center w-fit mx-auto text-white relative rounded-full text-sm text-center px-2 bg-red-500",style:{"line-height":"1.5"}},G=t("span",{class:"text-white"},"\xA0PT",-1),J={key:0,class:"absolute -top-2 -right-2"},R=["id","onUpdate:modelValue"],q={key:0,class:"absolute top-0 left-0 z-0 w-full h-full flex justify-center items-center"},K=t("img",{src:"/images/sparking_star.png",style:{"max-width":"200%"}},null,-1),Q=[K],W={class:"text-center text-neutral-50 mb-6 z-10 relative"},X={class:"cursor-pointer flex items-center justify-center"},Y=t("span",{class:"ml-2 text-base font-bold"},"\u5168\u3066\u3092\u9078\u629E\u3059\u308B",-1),Z={class:"mb-3 text-center text-neutral-50 z-10 relative"},$=["disabled"],tt=t("div",{class:"p-4 text-center text-base font-bold text-neutral-200 z-10"}," \u203B\u9078\u629E\u3055\u308C\u306A\u304B\u3063\u305F\u5546\u54C1\u306F\u300C\u7372\u5F97\u6E08\u307F \u5546\u54C1\u4E00\u89A7\u300D\u306B\u79FB\u52D5\u3055\u308C\u307E\u3059\u3002 ",-1);function et(e,s,r,i,h,c){const b=l("Head"),x=l("PlayIcon"),g=l("AdminLayout");return n(),a(m,null,[d(b,{title:"\u30AC\u30C1\u30E3\u2013\u7D50\u679C"}),d(g,{is_home:!0},{default:P(()=>[t("div",F,[H,t("form",{onSubmit:s[2]||(s[2]=C(o=>c.submit(),["prevent"]))},[t("div",N,[(n(!0),a(m,null,j(r.products.data,(o,st)=>(n(),a("div",O,[t("label",{for:"checkbox"+o.id,class:"z-10 block mb-5 mx-2.5 cursor-pointer text-center justify-center relative rounded-sm"},[t("div",B,[t("img",{class:"inline-block w-full",src:o.image},null,8,U)]),t("div",M,u(o.name),1),t("div",T,u(o.rare),1),t("div",E,[d(x,{class:"h-5"}),V(" "+u(c.format_number(o.point)),1),G]),o.lost_type!="1"?(n(),a("div",J,[f(t("input",{id:"checkbox"+o.id,type:"checkbox","onUpdate:modelValue":k=>i.form.checks["id"+o.id]=k,class:"h-5 w-5 cursor-pointer rounded border-blue-300 text-blue-600 shadow-sm focus:ring-blue-500"},null,8,R),[[_,i.form.checks["id"+o.id]]])])):p("",!0)],8,S),o.is_last?(n(),a("div",q,Q)):p("",!0)]))),256))]),t("div",W,[t("label",X,[f(t("input",{type:"checkbox","onUpdate:modelValue":s[0]||(s[0]=o=>h.isCheckAll=o),onChange:s[1]||(s[1]=o=>c.checkall()),class:"h-6 w-6 rounded border-neutral-300 text-neutral-600 shadow-sm focus:ring-neutral-500"},null,544),[[_,h.isCheckAll]]),Y])]),t("div",Z,[t("button",{type:"submit",class:A([{"opacity-25":i.form.processing},"inline-block items-center px-8 py-2.5 bg-sky-600 border border-transparent rounded-md font-semibold text-base text-white uppercase tracking-widest hover:bg-sky-700 active:bg-sky-700 focus:outline-none focus:border-red-700 focus:shadow-outline-red transition ease-in-out duration-150"]),disabled:i.form.processing}," \u9078\u629E\u3057\u305F\u5546\u54C1\u3092\u30DD\u30A4\u30F3\u30C8\u306B\u5909\u63DB ",10,$)]),tt],32)])]),_:1})],64)}const ct=D(L,[["render",et]]);export{ct as default};
