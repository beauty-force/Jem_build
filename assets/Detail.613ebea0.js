import{r as b,o as r,c as i,i as a,b as _,t as n,d as t,n as h,H as x,L as k,G as p,w as v,F as f,J as C,K as j,f as L}from"./app.10bc391f.js";import{A as P}from"./Admin.1be55524.js";import{_ as g}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as S}from"./ChevronRightIcon.1516df8b.js";import{a as H}from"./Category.33a19b7b.js";import{r as F}from"./EllipsisHorizontalIcon.293a2891.js";const I={components:{ChevronRightIcon:S,ChevronLeftIcon:H,EllipsisHorizontalIcon:F},props:{callback:Function,total:Number},data(){return{page:1}},methods:{}},O={key:0,class:"flex justify-center items-center"},A={key:1,class:"p-2"},N={key:4,class:"p-2"};function z(l,s,e,d,o,u){const m=b("EllipsisHorizontalIcon");return e.total>1?(r(),i("div",O,[o.page>1?(r(),i("button",{key:0,onClick:s[0]||(s[0]=()=>{e.callback(o.page=1)}),class:"rounded-l-md border w-9 h-9 flex justify-center items-center hover:bg-neutral-200"},"1")):a("",!0),o.page>3?(r(),i("span",A,[_(m,{class:"w-5"})])):a("",!0),o.page>2?(r(),i("button",{key:2,onClick:s[1]||(s[1]=()=>{e.callback(o.page=o.page-1)}),class:"border w-9 h-9 flex justify-center items-center hover:bg-neutral-200"},n(o.page-1),1)):a("",!0),t("button",{onClick:s[2]||(s[2]=()=>{e.callback(o.page)}),class:h(["w-9 h-9 flex justify-center items-center text-white bg-neutral-600",{"rounded-l-md":o.page==1,"rounded-r-md":o.page==e.total}])},n(o.page),3),o.page+1<e.total?(r(),i("button",{key:3,onClick:s[3]||(s[3]=()=>{e.callback(o.page=o.page+1)}),class:"border w-9 h-9 flex justify-center items-center hover:bg-neutral-200"},n(o.page+1),1)):a("",!0),o.page+2<e.total?(r(),i("span",N,[_(m,{class:"w-5"})])):a("",!0),o.page<e.total?(r(),i("button",{key:5,onClick:s[4]||(s[4]=()=>{e.callback(o.page=e.total)}),class:"rounded-r-md border w-9 h-9 flex justify-center items-center hover:bg-neutral-200"},n(e.total),1)):a("",!0)])):a("",!0)}const D=g(I,[["render",z]]),E={components:{Head:x,AppLayout:P,Link:k,PaginationClientSide:D},props:{errors:Object,user:Object,profile:Object,payments:Object,coupons:Object,point_logs:Object,show_limit:Number,rank:String},mounted(){},methods:{submit(){this.form.post(route("admin.users.update"),{preserveScroll:!0,onFinish:()=>{}})},clear_history(){confirm("\u30DD\u30A4\u30F3\u30C8\u5C65\u6B74\u3092\u524A\u9664\u3057\u307E\u3059\u304B\uFF1F \u671F\u9593\u30E9\u30F3\u30AF\u30C7\u30FC\u30BF\u304C\u521D\u671F\u5316\u3055\u308C\u307E\u3059\u3002")&&this.clear_form.post(route("admin.users.clear_history"),{preserveScroll:!0,onFinish:()=>{}})},format_number(l){return String(l).replace(/(.)(?=(\d{3})+$)/g,"$1,")},onPageChange(l){this.current_page=l}},data(){return{current_page:1}},setup(l){const s=p({id:l.user.id,point:l.user.point}),e=p({id:l.user.id}),d=Math.floor((l.point_logs.length+l.show_limit-1)/l.show_limit);return{form:s,totalPage:d,clear_form:e}},computed:{paginatedLogs(){const l=(this.current_page-1)*this.show_limit,s=this.current_page*this.show_limit;return this.point_logs.slice(l,s)}}},V={class:"md:px-4 px-2"},B={class:"border-b w-full p-2 my-2 font-semibold flex justify-between"},M=t("button",{onclick:"history.back()",class:"rounded-md px-2 text-sm font-normal text-white bg-red-500 hover:bg-red-400"}," \u623B\u308B ",-1),T={class:"w-full text-sm"},G=t("td",{class:"p-1 w-2/5 font-bold"},"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",-1),J={class:"p-1 w-3/5"},K=t("td",{class:"p-1 w-2/5 font-bold"},"\u96FB\u8A71\u756A\u53F7",-1),R={class:"p-1 w-3/5"},U=t("td",{class:"p-1 w-2/5 font-bold"},"\u30DD\u30A4\u30F3\u30C8",-1),q={class:"p-1 w-3/5"},Q=t("td",{class:"p-1 w-2/5 font-bold"},"\u540D\u524D",-1),W={class:"p-1 w-3/5"},X=t("td",{class:"p-1 w-2/5 font-bold"},"\u540D\u524D(\u30AB\u30CA)",-1),Y={class:"p-1 w-3/5"},Z=t("td",{class:"p-1 w-2/5 font-bold"},"\u90F5\u4FBF\u756A\u53F7",-1),$={class:"p-1 w-3/5"},tt=t("td",{class:"p-1 w-2/5 font-bold"},"\u90FD\u9053\u5E9C\u770C",-1),et={class:"p-1 w-3/5"},st=t("td",{class:"p-1 w-2/5 font-bold"},"\u4F4F\u6240",-1),ot={class:"p-1 w-3/5"},nt=t("td",{class:"p-1 w-2/5 font-bold"},"\u30E9\u30F3\u30AF",-1),lt={class:"p-1 w-3/5"},rt={class:"text-center w-full py-4"},it=["disabled"],ct={class:"border-b w-full p-2 my-2 font-semibold flex justify-between items-center"},at=t("h3",null,"\u30DD\u30A4\u30F3\u30C8\u5C65\u6B74",-1),dt={class:"w-full flex flex-col gap-4 mb-8 text-sm md:text-base overflow-auto"},ut={class:"min-w-full table-auto"},_t=t("thead",null,[t("tr",{class:"border border-collapse divide-x-2"},[t("th",{class:"text-center py-2"},"\u4E8B\u7531"),t("th",{class:"text-center py-2"},"\u30DD\u30A4\u30F3\u30C8\uFF08\u5229\u7528\uFF09"),t("th",{class:"text-center py-2"},"\u6B21\u306E\u30DD\u30A4\u30F3\u30C8\uFF08PT\u6B8B\u9AD8\uFF09"),t("th",{class:"text-center py-2"},"\u65E5\u6642")])],-1),mt={class:"text-sm"},ft={class:"border divide-x-2"},bt={class:"text-center py-2"},pt={class:"text-center py-2"},ht={class:"text-center py-2"},gt={class:"text-center py-2"};function wt(l,s,e,d,o,u){const m=b("Head"),w=b("PaginationClientSide"),y=b("AppLayout");return r(),i(f,null,[_(m,{title:"\u30E6\u30FC\u30B6\u30FC\u7BA1\u7406"}),_(y,null,{default:v(()=>[t("div",V,[t("div",B,[t("h3",null,"\u30E6\u30FC\u30B6\u30FC\u8A73\u7D30 (ID-"+n(e.user.id)+")",1),M]),t("table",T,[e.user?(r(),i(f,{key:0},[t("tr",null,[G,t("td",J,n(e.user.email),1)]),t("tr",null,[K,t("td",R,n(e.user.phone),1)]),t("tr",null,[U,t("td",q,[C(t("input",{class:"bg-white/90 w-full px-3 py-2 border border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md placeholder-neutral-400",type:"number","onUpdate:modelValue":s[0]||(s[0]=c=>d.form.point=c)},null,512),[[j,d.form.point]])])])],64)):a("",!0),e.profile?(r(),i(f,{key:1},[t("tr",null,[Q,t("td",W,n(e.profile.first_name)+" "+n(e.profile.last_name),1)]),t("tr",null,[X,t("td",Y,n(e.profile.first_name_gana)+" "+n(e.profile.last_name_gana),1)]),t("tr",null,[Z,t("td",$,n(e.profile.postal_code),1)]),t("tr",null,[tt,t("td",et,n(e.profile.prefecture),1)]),t("tr",null,[st,t("td",ot,n(e.profile.address),1)]),t("tr",null,[nt,t("td",lt,n(e.rank),1)])],64)):a("",!0)]),t("div",rt,[t("button",{type:"button",onClick:s[1]||(s[1]=(...c)=>u.submit&&u.submit(...c)),class:h([{"opacity-25":d.form.processing},"inline-block items-center px-10 py-1 rounded-full text-sm font-semibold text-white uppercase bg-neutral-700 hover:bg-neutral-500"]),disabled:d.form.processing}," \u4FDD\u5B58 ",10,it)]),t("div",ct,[at,_(w,{callback:u.onPageChange,total:d.totalPage},null,8,["callback","total"]),t("button",{onClick:s[2]||(s[2]=(...c)=>u.clear_history&&u.clear_history(...c)),class:"rounded-md px-2 py-1 text-sm font-normal text-white bg-red-500 hover:bg-red-400"}," \u5C65\u6B74\u524A\u9664 ")]),t("div",dt,[t("table",ut,[_t,t("tbody",mt,[(r(!0),i(f,null,L(u.paginatedLogs,c=>(r(),i("tr",ft,[t("td",bt,n(c.point_type),1),t("td",pt,n(c.point_diff),1),t("td",ht,n(c.point_before+c.point_diff),1),t("td",gt,n(c.updated_at1),1)]))),256))])])])])]),_:1})],64)}const Lt=g(E,[["render",wt]]);export{Lt as default};
