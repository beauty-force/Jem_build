import{H as v,L as k,r as a,o as l,c as d,b as s,w as n,F as h,d as e,f as w,e as c,t as u,h as b}from"./app.7dd38efc.js";import{A as j}from"./Admin.abf655ab.js";import{_ as C}from"./_plugin-vue_export-helper.cdc0426e.js";import{f as L,o as D,N,V as T}from"./toastify.015d7052.js";const O={components:{Head:v,AdminLayout:j,Link:k,TransitionRoot:L,TransitionChild:D,Dialog:N,DialogOverlay:T},data(){return{is_busy:!1,is_admin:!1,purchase_uri:"user.point.purchase",isDialogMessage:!1,point_id:0}},props:{errors:Object,auth:Object,category_share:Object,points:Object,coupon_id:Number,rank:Object},methods:{format_number(r){return String(r).replace(/(.)(?=(\d{3})+$)/g,"$1,")},purchase(r){this.isDialogMessage=!0,this.point_id=r}},mounted(){this.auth.user&&this.auth.user.type==1&&(this.is_admin=!0,this.purchase_uri="test.user.point.purchase")}},V={class:"pt-6 md:px-4 px-2"},z=e("h1",{class:"mb-10 font-bold text-center text-lg underline underline-offset-8",style:{"margin-bottom":"1.5rem"}}," \xA0\xA0\xA0\u30DD\u30A4\u30F3\u30C8\u3092\u8CFC\u5165\u3059\u308B\xA0\xA0\xA0",-1),A={class:"grid sm:grid-cols-3 grid-cols-2 md:px-9 px-3 justify-center gap-4 pb-8"},H=["onClick"],M={class:"text-center pt-2 flex justify-center"},B=["src"],R={key:0,class:"absolute -top-2.5 -right-7 bg-green-600 font-bold text-sm text-white w-20 pt-4 pb-1 rotate-45"},F={class:"flex px-2 justify-between items-center rounded-b-lg -mt-10 h-24 pt-8 relative bg-[url('/images/img_bottom.png')] bg-cover",style:{"z-index":"1"}},S={class:"text-xs flex flex-col items-center justify-center text-white font-bold"},E={key:0,class:"text-yellow-300 leading-5"},I={class:"rounded-full py-0.5 h-fit bg-white px-3 font-bold text-xs"},P={class:"flex flex-col text-neutral-700 rounded-md relative z-20 top-20 w-fit min-w-64 bg-neutral-50 border-l border-neutral-200 m-auto p-2 gap-4"},q=e("div",{class:"pt-3 pb-1 px-1 text-center font-bold"}," \u6C7A\u6E08\u65B9\u6CD5\u3092\u9078\u629E ",-1),G={class:"pb-3 flex flex-col gap-2 w-full items-center"};function J(r,f,i,K,t,p){const x=a("Head"),_=a("Link"),m=a("TransitionChild"),g=a("TransitionRoot"),y=a("AdminLayout");return l(),d(h,null,[s(x,{title:"\u30DD\u30A4\u30F3\u30C8\u3092\u8CFC\u5165\u3059\u308B"}),s(y,null,{default:n(()=>[e("div",V,[z,e("div",A,[(l(!0),d(h,null,w(i.points.data,(o,Q)=>(l(),d("div",{onClick:U=>p.purchase(o.id),class:"cursor-pointer border-2 border-solid border-gray-200 bg-white text-center relative rounded-lg shadow-md overflow-hidden"},[e("div",M,[e("img",{class:"inline-block object-cover",src:o.image},null,8,B)]),o.discount_rate>0?(l(),d("span",R,"-"+u(o.discount_rate)+"%",1)):b("",!0),e("div",F,[e("span",S,[c(u(o.title)+" ",1),i.rank.pt_rate>0?(l(),d("span",E,"+ "+u(p.format_number(o.point*i.rank.pt_rate/100))+" \u30DC\u30FC\u30CA\u30B9",1)):b("",!0)]),e("button",I," \xA5\xA0"+u(o.amount_str),1)])],8,H))),256))])]),s(g,{show:t.isDialogMessage,class:"h-full fixed inset-0 z-40"},{default:n(()=>[s(m,{enter:"transition ease-in-out duration-200 transform","enter-from":"-translate-y-10","enter-to":"translate-y-0",leave:"transition ease-in-out duration-200 transform","leave-from":"opacity-100","leave-to":"opacity-0",as:"template"},{default:n(()=>[e("div",P,[q,e("div",G,[s(_,{href:r.route(t.purchase_uri,{type:"card",id:t.point_id,coupon_id:i.coupon_id}),class:"text-center border border-sky-500 rounded-md px-6 hover:bg-sky-100 h-10 w-40 flex font-extrabold items-center justify-center text-sky-600"},{default:n(()=>[c(" \u30AB\u30FC\u30C9\u6C7A\u6E08 ")]),_:1},8,["href"]),s(_,{href:r.route(t.purchase_uri,{type:"bank",id:t.point_id,coupon_id:i.coupon_id}),class:"text-center border border-green-500 rounded-md px-6 hover:bg-green-100 h-10 w-40 flex font-extrabold items-center justify-center text-green-600"},{default:n(()=>[c(" \u9280\u884C\u632F\u8FBC ")]),_:1},8,["href"]),s(_,{href:r.route(t.purchase_uri,{type:"amazon",id:t.point_id,coupon_id:i.coupon_id}),class:"text-center border border-rose-500 rounded-md px-6 hover:bg-rose-100 h-10 w-40 flex font-extrabold items-center justify-center text-rose-600"},{default:n(()=>[c(" Amazon Pay ")]),_:1},8,["href"])])])]),_:1}),s(m,{enter:"transition-opacity ease-linear duration-200","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-200","leave-from":"opacity-100","leave-to":"opacity-0",as:"template"},{default:n(()=>[e("div",{class:"fixed inset-0 bg-neutral-600 h-full bg-opacity-50",onClick:f[0]||(f[0]=o=>t.isDialogMessage=!1)})]),_:1})]),_:1},8,["show"])]),_:1})],64)}const $=C(O,[["render",J]]);export{$ as default};
