import{H as w,L as P,G as j,r as f,o as n,c,b as g,w as C,F as u,d as t,t as r,f as h,i as m,I as D,J as b,a2 as p,n as z,e as _}from"./app.ef95c277.js";import{A}from"./Admin.0fce088a.js";import{_ as V}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as L}from"./PlayIcon.5694fe1c.js";import"./Category.eb72ab11.js";const O={components:{Head:w,AdminLayout:A,Link:P,PlayIcon:L},props:{errors:Object,auth:Object,category_share:Object,products:Object,pt_products:Object,delivery_products:Object,token:String},data(){return{isCheckAll:!1,showPtProducts:!1,showDeliveryProducts:!1}},computed:{totalConvertedPoints(){return this.pt_products.data.reduce((s,i)=>s+parseInt(i.point),0)}},setup(s){let i={},o;for(o=0;o<s.products.data.length;o++)i["id"+s.products.data[o].id]=!1;return{form:j({checks:i,token:s.token})}},methods:{format_number(s){return String(s).replace(/(.)(?=(\d{3})+$)/g,"$1,")},togglePtProducts(){this.showPtProducts=!this.showPtProducts},toggleDeliveryProducts(){this.showDeliveryProducts=!this.showDeliveryProducts},submit(){let s,i=0;var o=0;for(s=0;s<this.products.data.length;s++)this.form.checks["id"+this.products.data[s].id]&&(i++,o=o+parseInt(this.products.data[s].point));let d=!1;o>0?confirm("\u4EA4\u63DB\u3057\u307E\u3059\u304B\uFF1F \u9078\u629E\u3057\u305F"+i+"\u70B9\u306E\u5546\u54C1\u3092"+o+"pt\u3068\u4EA4\u63DB\u3057\u307E\u3059\u3002")&&(d=!0):confirm("\u5168\u3066\u306E\u5546\u54C1\u304C\u300C\u7372\u5F97\u6E08\u307F\u5546\u54C1\u4E00\u89A7\u300D\u306B\u79FB\u52D5\u3057\u307E\u3059\u3002")&&(d=!0),d&&this.form.post(route("user.gacha.result.exchange"),{onFinish:()=>{}})},checkall(){let s;for(s=0;s<this.products.data.length;s++)this.form.checks["id"+this.products.data[s].id]=this.isCheckAll}}},T={class:"md:w-[760px] m-auto items-center"},F=t("h1",{class:"mb-2 text-neutral-100 text-xl underline underline-offset-8 py-8 text-center font-bold"},"\xA0\xA0\xA0\u30AC\u30C1\u30E3 \u2013 \u7D50\u679C\xA0\xA0\xA0",-1),H={class:"mb-6 text-white"},I={class:"flex justify-between items-center p-4"},N={class:"text-center"},S={class:"text-center"},B={key:0,class:"mb-3 px-4 grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-4"},U={class:"z-10 block text-center justify-center relative rounded-sm"},M={class:"text-center p-0 relative mb-1"},E=["src"],G={class:"text-white truncate text-center text-base px-4",style:{"line-height":"1.3"}},J={class:"text-neutral-300 text-sm truncate mb-1 text-center px-4",style:{"line-height":"1.3"}},R={class:"flex justify-center items-center w-fit mx-auto text-white relative rounded-full text-sm text-center px-2 bg-red-500",style:{"line-height":"1.5"}},q=t("img",{style:{filter:"invert(1)"},class:"pr-3 h-4",src:"/images/right.png"},null,-1),K=t("span",{class:"text-white"},"\xA0PT",-1),Q={class:"mb-6"},W={class:"flex justify-between items-center p-4"},X={class:"text-center text-white"},Y={key:0,class:"px-4 grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5"},Z={class:"z-10 block mb-5 mx-2.5 text-center justify-center relative rounded-sm"},$={class:"text-center p-0 relative mb-1"},tt=["src"],et={class:"text-white truncate text-center text-base px-4",style:{"line-height":"1.3"}},st={class:"text-neutral-300 text-sm truncate mb-1 text-center px-4",style:{"line-height":"1.3"}},it={class:"flex justify-center items-center w-fit mx-auto text-white relative rounded-full text-sm text-center px-2 bg-red-500",style:{"line-height":"1.5"}},ot=t("img",{style:{filter:"invert(1)"},class:"pr-3 h-4",src:"/images/right.png"},null,-1),rt=t("span",{class:"text-white"},"\xA0PT",-1),lt={class:"p-4 text-white"},nt={class:"p-4 grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5"},ct={class:"relative"},dt=["for"],at={class:"text-center p-0 relative mb-1"},ut=["src"],ht={class:"text-white truncate text-center text-base px-4",style:{"line-height":"1.3"}},mt={class:"text-neutral-300 text-sm truncate mb-1 text-center px-4",style:{"line-height":"1.3"}},_t={class:"flex justify-center items-center w-fit mx-auto text-white relative rounded-full text-sm text-center px-2 bg-red-500",style:{"line-height":"1.5"}},xt=t("img",{style:{filter:"invert(1)"},class:"pr-3 h-4",src:"/images/right.png"},null,-1),ft=t("span",{class:"text-white"},"\xA0PT",-1),gt={class:"absolute -top-2 -right-2"},bt=["id","onUpdate:modelValue"],pt={key:0,class:"absolute top-0 left-0 z-0 w-full h-full flex justify-center items-center"},vt=t("img",{src:"/images/sparking_star.png",style:{"max-width":"200%"}},null,-1),yt=[vt],kt={class:"text-center text-neutral-50 mb-6 z-10 relative"},wt={class:"cursor-pointer flex items-center justify-center"},Pt=t("span",{class:"ml-2 text-base font-bold"},"\u5168\u3066\u3092\u9078\u629E\u3059\u308B",-1),jt={class:"mb-3 text-center text-neutral-50 z-10 relative"},Ct=["disabled"],Dt=t("div",{class:"p-4 text-center text-base font-bold text-neutral-200 z-10"}," \u203B\u9078\u629E\u3055\u308C\u306A\u304B\u3063\u305F\u5546\u54C1\u306F\u300C\u7372\u5F97\u6E08\u307F \u5546\u54C1\u4E00\u89A7\u300D\u306B\u79FB\u52D5\u3055\u308C\u307E\u3059\u3002 ",-1);function zt(s,i,o,d,a,l){const v=f("Head"),y=f("AdminLayout");return n(),c(u,null,[g(v,{title:"\u30AC\u30C1\u30E3\u2013\u7D50\u679C"}),g(y,{is_home:!0},{default:C(()=>[t("div",T,[F,t("div",H,[t("div",I,[t("div",null,[t("p",N," \u30DD\u30A4\u30F3\u30C8\u306B\u5909\u63DB\u3055\u308C\u305F\u5546\u54C1\u6570: "+r(o.pt_products.data.length)+" \u70B9 ",1),t("p",S," \u5408\u8A08\u30DD\u30A4\u30F3\u30C8: "+r(l.totalConvertedPoints)+" PT ",1)]),t("button",{onClick:i[0]||(i[0]=(...e)=>l.togglePtProducts&&l.togglePtProducts(...e)),class:"text-sm text-white rounded-full bg-sky-500 hover:bg-sky-600 px-3 py-0.5"},r(a.showPtProducts?"\u975E\u8868\u793A":"\u8868\u793A"),1)]),a.showPtProducts?(n(),c("div",B,[(n(!0),c(u,null,h(o.pt_products.data,(e,x)=>(n(),c("div",{key:"pt-"+e.id,class:"relative"},[t("label",U,[t("div",M,[t("img",{class:"inline-block w-full",src:e.image},null,8,E)]),t("div",G,r(e.name),1),t("div",J,r(e.rare),1),t("div",R,[q,_(" "+r(l.format_number(e.point)),1),K])])]))),128))])):m("",!0)]),t("div",Q,[t("div",W,[t("p",X," \u914D\u9001\u4F9D\u983C\u3055\u308C\u305F\u5546\u54C1\u6570: "+r(o.delivery_products.data.length)+" \u70B9 ",1),t("button",{onClick:i[1]||(i[1]=(...e)=>l.toggleDeliveryProducts&&l.toggleDeliveryProducts(...e)),class:"text-sm text-white rounded-full bg-sky-500 hover:bg-sky-600 px-3 py-0.5"},r(a.showDeliveryProducts?"\u975E\u8868\u793A":"\u8868\u793A"),1)]),a.showDeliveryProducts?(n(),c("div",Y,[(n(!0),c(u,null,h(o.delivery_products.data,(e,x)=>(n(),c("div",{key:"delivery-"+e.id,class:"relative"},[t("label",Z,[t("div",$,[t("img",{class:"inline-block w-full",src:e.image},null,8,tt)]),t("div",et,r(e.name),1),t("div",st,r(e.rare),1),t("div",it,[ot,_(" "+r(l.format_number(e.point)),1),rt])])]))),128))])):m("",!0)]),t("form",{onSubmit:i[4]||(i[4]=D(e=>l.submit(),["prevent"]))},[t("p",lt," \u305D\u306E\u4ED6\u306E\u5546\u54C1: "+r(o.products.data.length)+" \u70B9 ",1),t("div",nt,[(n(!0),c(u,null,h(o.products.data,(e,x)=>(n(),c("div",ct,[t("label",{for:"checkbox"+e.id,class:"z-10 block mb-5 mx-2.5 cursor-pointer text-center justify-center relative rounded-sm"},[t("div",at,[t("img",{class:"inline-block w-full",src:e.image},null,8,ut)]),t("div",ht,r(e.name),1),t("div",mt,r(e.rare),1),t("div",_t,[xt,_(" "+r(l.format_number(e.point)),1),ft]),t("div",gt,[b(t("input",{id:"checkbox"+e.id,type:"checkbox","onUpdate:modelValue":k=>d.form.checks["id"+e.id]=k,class:"h-5 w-5 cursor-pointer rounded border-blue-300 text-blue-600 shadow-sm focus:ring-blue-500"},null,8,bt),[[p,d.form.checks["id"+e.id]]])])],8,dt),e.is_last?(n(),c("div",pt,yt)):m("",!0)]))),256))]),t("div",kt,[t("label",wt,[b(t("input",{type:"checkbox","onUpdate:modelValue":i[2]||(i[2]=e=>a.isCheckAll=e),onChange:i[3]||(i[3]=e=>l.checkall()),class:"h-6 w-6 rounded border-neutral-300 text-neutral-600 shadow-sm focus:ring-neutral-500"},null,544),[[p,a.isCheckAll]]),Pt])]),t("div",jt,[t("button",{type:"submit",class:z([{"opacity-25":d.form.processing},"inline-block items-center px-8 py-2.5 bg-sky-600 border border-transparent rounded-md font-semibold text-base text-white uppercase tracking-widest hover:bg-sky-700 active:bg-sky-700 focus:outline-none focus:border-red-700 focus:shadow-outline-red transition ease-in-out duration-150"]),disabled:d.form.processing}," \u9078\u629E\u3057\u305F\u5546\u54C1\u3092\u30DD\u30A4\u30F3\u30C8\u306B\u5909\u63DB ",10,Ct)]),Dt],32)])]),_:1})],64)}const Ft=V(O,[["render",zt]]);export{Ft as default};
