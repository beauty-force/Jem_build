import{C as M,S as O,F as E,f as I,o as D,N as S,V as z,r as F,a as P,b as W,v as j,I as B,g as A,c as R,_ as H,d as V}from"./Category.33a19b7b.js";import{g as U,L as X,u as g,r as h,o as k,c as T,b as l,w as p,d as i,t as L,e as x,h as G,i as q,j as K}from"./app.10bc391f.js";import{_ as J}from"./_plugin-vue_export-helper.cdc0426e.js";var N={exports:{}};/*!
 * Toastify js 1.12.0
 * https://github.com/apvarun/toastify-js
 * @license MIT licensed
 *
 * Copyright (C) 2018 Varun A P
 */(function(s){(function(d,e){s.exports?s.exports=e():d.Toastify=e()})(U,function(d){var e=function(t){return new e.lib.init(t)},w="1.12.0";e.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},e.lib=e.prototype={toastify:w,constructor:e,init:function(t){return t||(t={}),this.options={},this.toastElement=null,this.options.text=t.text||e.defaults.text,this.options.node=t.node||e.defaults.node,this.options.duration=t.duration===0?0:t.duration||e.defaults.duration,this.options.selector=t.selector||e.defaults.selector,this.options.callback=t.callback||e.defaults.callback,this.options.destination=t.destination||e.defaults.destination,this.options.newWindow=t.newWindow||e.defaults.newWindow,this.options.close=t.close||e.defaults.close,this.options.gravity=t.gravity==="bottom"?"toastify-bottom":e.defaults.gravity,this.options.positionLeft=t.positionLeft||e.defaults.positionLeft,this.options.position=t.position||e.defaults.position,this.options.backgroundColor=t.backgroundColor||e.defaults.backgroundColor,this.options.avatar=t.avatar||e.defaults.avatar,this.options.className=t.className||e.defaults.className,this.options.stopOnFocus=t.stopOnFocus===void 0?e.defaults.stopOnFocus:t.stopOnFocus,this.options.onClick=t.onClick||e.defaults.onClick,this.options.offset=t.offset||e.defaults.offset,this.options.escapeMarkup=t.escapeMarkup!==void 0?t.escapeMarkup:e.defaults.escapeMarkup,this.options.ariaLive=t.ariaLive||e.defaults.ariaLive,this.options.style=t.style||e.defaults.style,t.backgroundColor&&(this.options.style.background=t.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var t=document.createElement("div");t.className="toastify on "+this.options.className,this.options.position?t.className+=" toastify-"+this.options.position:this.options.positionLeft===!0?(t.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):t.className+=" toastify-right",t.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.');for(var r in this.options.style)t.style[r]=this.options.style[r];if(this.options.ariaLive&&t.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)t.appendChild(this.options.node);else if(this.options.escapeMarkup?t.innerText=this.options.text:t.innerHTML=this.options.text,this.options.avatar!==""){var c=document.createElement("img");c.src=this.options.avatar,c.className="toastify-avatar",this.options.position=="left"||this.options.positionLeft===!0?t.appendChild(c):t.insertAdjacentElement("afterbegin",c)}if(this.options.close===!0){var a=document.createElement("button");a.type="button",a.setAttribute("aria-label","Close"),a.className="toast-close",a.innerHTML="&#10006;",a.addEventListener("click",function(f){f.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}.bind(this));var n=window.innerWidth>0?window.innerWidth:screen.width;(this.options.position=="left"||this.options.positionLeft===!0)&&n>360?t.insertAdjacentElement("afterbegin",a):t.appendChild(a)}if(this.options.stopOnFocus&&this.options.duration>0){var u=this;t.addEventListener("mouseover",function(f){window.clearTimeout(t.timeOutValue)}),t.addEventListener("mouseleave",function(){t.timeOutValue=window.setTimeout(function(){u.removeElement(t)},u.options.duration)})}if(typeof this.options.destination<"u"&&t.addEventListener("click",function(f){f.stopPropagation(),this.options.newWindow===!0?window.open(this.options.destination,"_blank"):window.location=this.options.destination}.bind(this)),typeof this.options.onClick=="function"&&typeof this.options.destination>"u"&&t.addEventListener("click",function(f){f.stopPropagation(),this.options.onClick()}.bind(this)),typeof this.options.offset=="object"){var m=o("x",this.options),v=o("y",this.options),b=this.options.position=="left"?m:"-"+m,C=this.options.gravity=="toastify-top"?v:"-"+v;t.style.transform="translate("+b+","+C+")"}return t},showToast:function(){this.toastElement=this.buildToast();var t;if(typeof this.options.selector=="string"?t=document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||typeof ShadowRoot<"u"&&this.options.selector instanceof ShadowRoot?t=this.options.selector:t=document.body,!t)throw"Root element is not defined";var r=e.defaults.oldestFirst?t.firstChild:t.lastChild;return t.insertBefore(this.toastElement,r),e.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement)}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(t){t.className=t.className.replace(" on",""),window.setTimeout(function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),t.parentNode&&t.parentNode.removeChild(t),this.options.callback.call(t),e.reposition()}.bind(this),400)}},e.reposition=function(){for(var t={top:15,bottom:15},r={top:15,bottom:15},c={top:15,bottom:15},a=document.getElementsByClassName("toastify"),n,u=0;u<a.length;u++){y(a[u],"toastify-top")===!0?n="toastify-top":n="toastify-bottom";var m=a[u].offsetHeight;n=n.substr(9,n.length-1);var v=15,b=window.innerWidth>0?window.innerWidth:screen.width;b<=360?(a[u].style[n]=c[n]+"px",c[n]+=m+v):y(a[u],"toastify-left")===!0?(a[u].style[n]=t[n]+"px",t[n]+=m+v):(a[u].style[n]=r[n]+"px",r[n]+=m+v)}return this};function o(t,r){return r.offset[t]?isNaN(r.offset[t])?r.offset[t]:r.offset[t]+"px":"0px"}function y(t,r){return!t||typeof r!="string"?!1:!!(t.className&&t.className.trim().split(/\s+/gi).indexOf(r)>-1)}return e.lib.init.prototype=e.lib,e})})(N);const Q=N.exports,Y={components:{Category:M,Sidebar:O,Footer:E,TransitionRoot:I,TransitionChild:D,Dialog:S,DialogOverlay:z,XMarkIcon:F,ChevronLeftIcon:P,Bars3Icon:W,Link:X,Menu:j,MenuButton:B,MenuItems:A,MenuItem:R,Logo:H,PlusIcon:V},props:{closeModal:Function},data(){return{sidebarOpened:!1,isDialogMessage:!1,dialogMessage:"",dialogTitle:"",page_title:"",user:{},point_value:0,dp_value:0,point_link:route("user.point"),hide_cat_bar:"",gacha_button:{}}},mounted(){this.user=g().props.value.auth.user,this.user&&(this.point_value=this.user.point,this.dp_value=this.user.dp,this.user.type==1&&(this.point_link=route("test.user.point"))),this.gacha_button=g().props.value.gacha_button,this.hide_cat_bar=g().props.value.hide_cat_bar;const s=document.querySelectorAll("img.lazy"),d={root:null,rootMargin:"0px",threshold:.1},e=o=>{o.src=o.dataset.src,o.classList.remove("lazy")},w=new IntersectionObserver((o,y)=>{o.forEach(t=>{t.isIntersecting&&(e(t.target),y.unobserve(t.target))})},d);s.forEach(o=>{w.observe(o)}),g().props.value.show_notification&&this.notification(g().props.value.notification)},computed:{flash(){return g().props.value.flash}},watch:{flash:function(s,d){s.type=="notification"&&this.notification(s.message),s.type=="dialog"&&(this.dialogMessage=s.message,this.dialogTitle=s.title,this.isDialogMessage=!0),s.data&&s.data.user&&(this.point_value=s.data.user.point,this.dp_value=s.data.user.dp,this.user=g().props.value.auth.user)}},methods:{format_number(s){return String(s).replace(/(.)(?=(\d{3})+$)/g,"$1,")},notification(s){s&&Q({text:s,duration:3e4,newWindow:!0,close:!0,gravity:"top",position:"right",stopOnFocus:!1,className:"toastify-content newClass",onClick:function(){}}).showToast()},back(){window.history.back()}}},Z={class:"flex min-h-screen text-neutral-700 text-base underline-offset-2 font-medium"},$={class:"flex flex-col relative z-10 h-full w-96 bg-gray-100 border-l border-neutral-200 ml-auto"},tt={class:"flex-1 overflow-y-auto"},et={class:"flex flex-col text-neutral-700 rounded relative z-20 top-20 w-fit min-w-64 px-4 bg-neutral-50 border-l border-neutral-200 m-auto max-w-full"},ot={class:"pt-3 pb-1 px-1 text-center font-bold"},st=["innerHTML"],it=i("hr",{class:"mt-3"},null,-1),nt={class:"w-full max-w-[760px] mx-auto flex flex-col"},at={class:"flex-shrink-0 w-full max-w-[760px] sticky top-0 z-[15]"},rt={class:"flex justify-center py-4 bg-repeat bg-black h-20 border-b border-neutral-400"},lt={class:"md:w-[760px] w-full flex md:px-5 px-2 mx-auto justify-center"},dt={class:"flex items-center flex-1 pr-2"},ut={key:0,class:"flex-shrink-0 flex items-center gap-2 text-slate-300 text-sm md:text-md"},ct={class:"flex items-center border border-gray-400 rounded-full px-1.5 md:px-2.5 py-0.5"},ft=i("img",{src:"/images/icon_cash.png",class:"h-4"},null,-1),pt={class:"border border-gray-400 rounded-full p-[1.5px]"},ht={class:"border border-gray-400 rounded-full px-1.5 md:px-2.5 py-0.5 min-w-[60px] text-center"},mt=i("span",null," GP",-1),vt=["src"],bt={key:1,class:"flex-shrink-0 flex items-center gap-2 text-neutral-300 text-sm md:text-base font-semibold"},gt={class:"w-full flex-1 relative"};function yt(s,d,e,w,o,y){const t=h("XMarkIcon"),r=h("Sidebar"),c=h("TransitionChild"),a=h("DialogOverlay"),n=h("Dialog"),u=h("TransitionRoot"),m=h("Logo"),v=h("PlusIcon"),b=h("Link"),C=h("Category");return k(),T("div",Z,[l(u,{show:o.sidebarOpened,class:"h-full"},{default:p(()=>[l(n,{open:o.sidebarOpened,onClose:d[1]||(d[1]=f=>o.sidebarOpened=!1),class:"fixed h-full inset-0 z-40"},{default:p(()=>[l(c,{enter:"transition ease-in-out duration-200 transform","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-200 transform","leave-from":"translate-x-0","leave-to":"translate-x-full",as:"template"},{default:p(()=>[i("div",$,[i("button",{onClick:d[0]||(d[0]=f=>o.sidebarOpened=!1),class:"z-10 absolute top-4 right-6 flex items-center justify-center w-8 h-8 rounded-full bg-neutral-500 text-white hover:bg-neutral-600 focus:outline-none",type:"button",value:"Close sidebar"},[l(t,{class:"h-5 w-5"})]),i("div",tt,[l(r)])])]),_:1}),l(c,{enter:"transition-opacity ease-linear duration-200","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-200","leave-from":"opacity-100","leave-to":"opacity-0",as:"template"},{default:p(()=>[l(a,{class:"fixed inset-0 bg-neutral-600 h-full bg-opacity-50"})]),_:1})]),_:1},8,["open"])]),_:1},8,["show"]),l(u,{show:o.isDialogMessage,class:"h-full"},{default:p(()=>[l(n,{open:o.isDialogMessage,onClose:d[3]||(d[3]=f=>{var _;(_=e.closeModal)==null||_.call(),o.isDialogMessage=!1}),class:"fixed h-full inset-0 z-40"},{default:p(()=>[l(c,{enter:"transition ease-in-out duration-200 transform","enter-from":"translate-y-full","enter-to":"translate-y-0",leave:"transition ease-in-out duration-200 transform","leave-from":"translate-y-0","leave-to":"translate-y-full",as:"template"},{default:p(()=>[i("div",et,[i("div",ot,L(o.dialogTitle),1),i("div",{class:"px-4 text-sm text-center",innerHTML:o.dialogMessage},null,8,st),it,i("button",{onClick:d[2]||(d[2]=f=>{var _;(_=e.closeModal)==null||_.call(),o.isDialogMessage=!1}),class:"cursor-pointer p-2 text-cyan-500 text-center text-base focus-visible:outline-0"}," OK ")])]),_:1}),l(c,{enter:"transition-opacity ease-linear duration-200","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-200","leave-from":"opacity-100","leave-to":"opacity-0",as:"template"},{default:p(()=>[l(a,{class:"fixed inset-0 bg-neutral-600 h-full bg-opacity-50"})]),_:1})]),_:1},8,["open"])]),_:1},8,["show"]),i("div",nt,[i("div",at,[i("div",rt,[i("div",lt,[i("div",dt,[l(m)]),this.user?(k(),T("div",ut,[l(b,{href:o.point_link,class:"text-center border border-gray-400 rounded-full p-[1.5px]"},{default:p(()=>[i("div",ct,[ft,x("\xA0\xA0"+L(o.point_value)+"pt",1),l(v,{class:"h-5 ml-3"})])]),_:1},8,["href"]),i("div",pt,[i("div",ht,[x(L(o.dp_value)+" ",1),mt])]),i("div",{onClick:d[4]||(d[4]=f=>o.sidebarOpened=!0),class:"overflow-hidden cursor-pointer w-9 md:w-10 h-9 md:h-10 rounded-full border border-yellow-900/50"},[i("img",{src:o.user.avatar?"/images/avatars/"+o.user.avatar:"/images/icon_user.png",class:"w-full h-full object-cover"},null,8,vt)])])):(k(),T("div",bt,[l(b,{href:s.route("register"),class:"hover:border-b"},{default:p(()=>[x(" \u4F1A\u54E1\u767B\u9332 ")]),_:1},8,["href"]),x(" / "),l(b,{href:s.route("login"),class:"hover:border-b"},{default:p(()=>[x(" \u30ED\u30B0\u30A4\u30F3 ")]),_:1},8,["href"])]))])])]),i("main",gt,[o.hide_cat_bar?q("",!0):(k(),G(C,{key:0,is_admin:!0})),K(s.$slots,"default")])])])}const kt=J(Y,[["render",yt]]);export{kt as U};
